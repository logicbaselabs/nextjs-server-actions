<svg xmlns="http://www.w3.org/2000/svg" width="1100" height="600" viewBox="0 0 1100 600">
  <defs>
    <marker id="arrow" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
      <path d="M0,0 L12,6 L0,12 Z" fill="#111"/>
    </marker>
  </defs>

  <text x="550" y="48" text-anchor="middle" font-size="26" font-family="ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto">
    Mental Model: Server Actions
  </text>
  <text x="550" y="78" text-anchor="middle" font-size="16" font-family="ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto">
    You “call a function”, but Next.js runs it on the server via a request
  </text>

  <rect x="70" y="160" width="320" height="170" rx="14" fill="#fff" stroke="#111" stroke-width="2"/>
  <text x="230" y="202" text-anchor="middle" font-size="16" font-weight="700"
        font-family="ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto">Client Component</text>
  <text x="230" y="232" text-anchor="middle" font-size="13"
        font-family="ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto">createNote(formData)</text>
  <text x="230" y="258" text-anchor="middle" font-size="13"
        font-family="ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto">or action={createNote}</text>

  <line x1="390" y1="245" x2="520" y2="245" stroke="#111" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="455" y="226" text-anchor="middle" font-size="12"
        font-family="ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto">Next.js request</text>

  <rect x="530" y="140" width="500" height="210" rx="14" fill="#fff" stroke="#111" stroke-width="2"/>
  <text x="780" y="180" text-anchor="middle" font-size="16" font-weight="700"
        font-family="ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto">Server Action executes</text>
  <text x="780" y="210" text-anchor="middle" font-size="13"
        font-family="ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto">validate → mutate → return state</text>

  <rect x="600" y="240" width="360" height="80" rx="12" fill="#f7f7f7" stroke="#111" stroke-width="1.5"/>
  <text x="780" y="272" text-anchor="middle" font-size="13"
        font-family="ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto">Store / DB write happens here ✅</text>

  <line x1="780" y1="350" x2="230" y2="460" stroke="#111" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="520" y="425" text-anchor="middle" font-size="12"
        font-family="ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto">return value / updated UI</text>

  <rect x="70" y="420" width="320" height="130" rx="14" fill="#f7f7ff" stroke="#111" stroke-width="2"/>
  <text x="230" y="460" text-anchor="middle" font-size="16" font-weight="700"
        font-family="ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto">React updates UI</text>
  <text x="230" y="490" text-anchor="middle" font-size="13"
        font-family="ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto">setNotes(state.notes)</text>
</svg>